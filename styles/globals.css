/* --------------------------------------------------------
Style Sheet for christof.digital
Theme vars generated from lib/theme.js (run: node scripts/generate-theme-css.js)
----------------------------------------------------------*/

@import '_theme-vars.css';

@tailwind base;
@tailwind components;
@tailwind utilities;

/* ==========================================================================
	Typography (semantic classes)
	========================================================================== */

@layer components {

  .header {
    @apply text-4xl md:text-6xl text-primary dark:text-cta mb-8;
  }

  .body-text {
    @apply text-base text-primary;
  }

  /* Layout */
  .main-layout {
    @apply flex flex-col w-full min-h-[calc(100vh-133px)] px-4 sm:px-8 pb-20 pt-6 text-center;
  }

  .section {
    @apply w-full px-4 sm:px-8 bg-section;
  }

  .section--alt {
    @apply w-full py-12 px-4 sm:px-8 bg-section-alt;
  }

  .header-bar {
    @apply flex justify-between items-center p-6 sm:px-12 bg-header-bg text-header-fg;
  }

  .intro-text {
    @apply body-text mx-auto max-w-xl text-center mb-6;
  }

  /* Cards â€“ unified surface and theme text */
  .card {
    @apply rounded shadow bg-surface text-primary p-6 transition-all;
  }

  .card--link {
    @apply card p-4 hover:shadow-2xl duration-500 flex flex-col;
  }

  .card--compact {
    @apply rounded-sm shadow bg-surface text-primary p-4 transition-all;
  }

  .card--large {
    @apply card shadow-md p-8;
  }

  .card--large-subtle {
    @apply rounded shadow-sm bg-surface text-primary p-8 transition-all;
  }

  .card--timeline-image {
    @apply relative rounded overflow-hidden shadow-lg bg-surface;
  }

  .card--timeline-text {
    @apply flex flex-col rounded bg-surface text-primary p-6 md:p-8 shadow-md text-left transition-all;
  }

  .quote {
    @apply relative max-w-lg mx-auto pl-6 pr-6 py-5 rounded-r-lg shadow bg-surface border-l-4 border-cta text-primary;
  }

  .card-date-badge {
    @apply absolute top-0 bg-surface-muted text-muted px-2 py-1 right-0 rounded-bl rounded-tr;
  }

  .card-date-badge--left {
    @apply left-0 right-auto rounded-br rounded-tl rounded-tr-none rounded-bl-none;
  }

  .card--minimal {
    @apply rounded-sm shadow bg-surface p-1 block hover:text-cta hover:shadow-none transition-all text-primary;
  }
}


/* ==========================================================================
	General overrides and utilities
	========================================================================== */

html,
body {
  scroll-behavior: smooth;
}

::selection {
  @apply bg-cta text-mauve-1;
}

::-moz-selection {
  @apply bg-cta text-mauve-1;
}

.link {
  @apply border-b border-dotted border-cta outline-none;
}

.link:hover {
  @apply border-transparent text-cta transition-all;
}

.link:disabled {
  @apply cursor-not-allowed;
}

input[type='radio']:after {
  @apply w-4 h-4 content-[''] cursor-pointer inline-block relative -top-[2px] -left-[1px] bg-surface border-2 border-white rounded-full;
}

input[type='radio']:checked:after {
  @apply bg-cta;
}


/* ==========================================================================
	Navigation
	========================================================================== */

.desktop-nav .nav {
  @apply text-muted transition-all border-b-2 border-t-2 border-transparent border-spacing-2;
}

.desktop-nav .nav:hover {
  @apply border-b-2 border-t-2 border-t-transparent border-cta border-spacing-2;
}

.desktop-nav .active-nav {
  @apply border-b-2 border-t-2 border-t-transparent border-cta border-spacing-2;
}

.mobile-nav .nav {
  @apply w-full block text-2xl md:text-4xl text-center leading-loose py-2 md:py-8 hover:bg-surface-muted hover:text-cta transition-all;
}

.mobile-nav .active-nav {
  @apply w-full block text-2xl md:text-4xl text-center leading-loose py-2 md:py-8 bg-surface-muted text-cta;
}

.active-tab {
  @apply border-b-2 border-cta font-bold dark:border-cta;
}

.arrow-nav {
  @apply w-8 h-8 hover:text-cta hover:bg-surface rounded;
}


/* ==========================================================================
	Forms 
	========================================================================== */

.button {
  @apply px-8 py-4 bg-brand-dark text-brand dark:bg-brand dark:text-brand-dark rounded shadow-lg hover:shadow hover:cursor-pointer dark:hover:text-cta transition-all;
}

.button-sm {
  @apply w-auto px-4 py-2 text-sm max-w-max bg-brand-dark text-brand dark:bg-brand dark:text-brand-dark rounded shadow-lg hover:shadow hover:cursor-pointer hover:text-cta dark:hover:text-cta transition-all;
}

.button-cta {
  @apply inline-flex items-center justify-center px-6 py-3 bg-cta text-mauve-1 rounded cursor-pointer transition-all shadow-md hover:shadow-lg hover:brightness-105 dark:shadow-lg dark:hover:shadow-xl dark:hover:brightness-110;
}

.button-margin-off {
  @apply px-8 py-4 bg-brand-dark text-brand dark:bg-brand dark:text-brand-dark rounded shadow-lg hover:shadow hover:cursor-pointer hover:text-cta dark:hover:text-cta transition-all;
}

.button:disabled,
.button-sm:disabled {
  @apply cursor-not-allowed hover:text-brand dark:hover:text-brand-dark hover:shadow-lg;
}


/* ==========================================================================
	Search 
	========================================================================== */

.search input[type='search']:not(:disabled) {
  @apply h-[40px] min-w-[150px] pl-2 text-sm ml-2 border-2 border-border rounded-sm focus:outline-none focus:ring-0 focus:border-cta bg-surface text-primary;
}

.search input[type='search']::-webkit-search-cancel-button {
  display: none;
}


/* ==========================================================================
	SVGs 
	========================================================================== */

svg {
  cursor: pointer;
}

#darkGroup {
  fill: var(--dark-svg-color);
}

#lightGroup {
  fill: var(--light-svg-color);
}

#dark1,
#light1,
#dark2 {
  transition: all 1s ease;
}

#dark2 {
  transform: translateX(-100%);
}

svg:hover #light1 {
  transform: translateX(20%);
}

svg:hover #dark1 {
  transform: translateX(40%);
  opacity: 0;
}

svg:hover #dark2 {
  transform: translateX(0%);
}

/* Phone */
#skeleton {
  animation: fadeInUp 1s;
}

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(20%);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

#bolt g {
  opacity: 0;
  animation: dropIn 8s;
  animation-timing-function: ease;
  animation-fill-mode: forwards;
  animation-delay: calc(var(--order) * 200ms);
  animation-iteration-count: infinite;
}

@keyframes dropIn {
  20% {
    opacity: 0;
    transform: translateY(-20%);
  }

  30%,
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Yoga map popups: hide Mapbox default wrapper so only our styled box shows.
   Mapbox injects .mapboxgl-popup-content with its own styles (mapbox-gl.css);
   override with higher specificity and !important so a single tooltip is visible. */
.mapboxgl-popup .mapboxgl-popup-content {
  padding: 0 !important;
  margin: 0 !important;
  background: transparent !important;
  border: none !important;
  box-shadow: none !important;
  min-width: 0 !important;
}

.mapboxgl-popup .mapboxgl-popup-tip {
  display: none !important;
}

/* Remove any outer popup container background */
.mapboxgl-popup {
  background: transparent !important;
}

/* Yoga map popups: theme-driven colours */
.yoga-map-popup {
  position: relative;
  min-width: 360px;
  max-width: 420px;
  height: auto;
  max-height: 90vh;
  padding: 14px 16px 16px;
  overflow-y: auto;
  display: flex;
  flex-direction: column;
  border-radius: 8px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
  background: var(--color-surface);
  color: var(--color-text-primary);
  font-family: var(--font-gotu), Gotu, Arial, sans-serif;
}

.dark .yoga-map-popup {
  box-shadow: 0 4px 24px rgba(0, 0, 0, 0.5);
}

/* Custom close button: absolute top-right corner of the card */
.yoga-popup-close {
  position: absolute !important;
  top: 0 !important;
  right: 0 !important;
  width: 36px;
  height: 36px;
  padding: 0;
  font-size: 22px;
  line-height: 36px;
  color: var(--color-text-muted);
  background: var(--color-border);
  border: none;
  border-radius: 0 8px 0 6px;
  cursor: pointer;
  transition: color 0.15s, background 0.15s;
  flex-shrink: 0;
}

.yoga-popup-close:hover {
  color: var(--color-text-primary);
  background: color-mix(in srgb, var(--color-text-muted) 20%, transparent);
}

.yoga-map-popup-date {
  font-size: 12px;
  color: var(--color-text-muted);
  display: block;
  margin-bottom: 4px;
}

.yoga-map-popup-title {
  margin: 0 0 6px;
  font-size: 17px;
  font-weight: 700;
  color: var(--color-text-primary);
  line-height: 1.25;
}

.yoga-map-popup-img {
  width: 100%;
  height: auto;
  max-height: 220px;
  object-fit: cover;
  border-radius: 6px;
  margin-bottom: 6px;
}

.yoga-map-popup-subname {
  margin: 0 0 8px;
  font-size: 13px;
  color: var(--color-text-muted);
  font-weight: 400;
}

.yoga-map-popup-desc {
  font-size: 13px;
  line-height: 1.5;
  color: var(--color-text-primary);
  padding-right: 4px;
}

.yoga-map-popup-desc a {
  color: var(--color-cta);
  text-decoration: underline;
}

.yoga-map-popup-desc a:hover {
  opacity: 0.9;
}